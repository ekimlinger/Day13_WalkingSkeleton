/*! walkingskeleton 2016-03-10 */
function displayDBcats(){$.ajax({type:"GET",url:"/cats",success:function(a){for(var b=a,c=0;c<b.length;c++)appendACat(b[c])}})}function deleteCats(a){var b=$(this).parent(),c=$(this).parent().data("name");$.ajax({type:"DELETE",url:"/removeCat",data:{name:c},success:function(a){console.log("Removed "+a),b.remove()}})}function appendACat(a,b){$(".cats").append('<div class="feline"></div>'),$el=$(".cats").children().last(),$el.data("name",a.name).data("id",b),$el.append('<button class="remove">Remove '+a.name+"</button>"),$el.append("<h2>"+a.name+"</h2>"),console.log(b)}$(document).ready(function(){displayDBcats(),$("#name").on("keyup",function(){var a=$("#name").val();$(".typing").text(a)}),$(".cats").on("click",".remove",deleteCats),$("#catForm").on("submit",function(a){a.preventDefault();var b={};$.each($("#catForm").serializeArray(),function(a,c){b[c.name]=c.value}),$.ajax({type:"POST",url:"/addCat",data:b,success:function(a){appendACat(b,a._id),console.log("Id returned from ajax",a._id),$("#catForm").find("input[type=text]").val("")}})})});